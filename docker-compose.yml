version: '3'

services:
  basket_team:
    build:
      context: .
      dockerfile: openjdk.Dockerfile
    container_name: 'basket_team'
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.basket_team.rule=Host(`api.basket-team.q91711ta.beget.tech`)"
      - "traefik.http.routers.basket_team.entrypoints=web"
      - "traefik.http.middlewares.basket_team.headers.customresponseheaders.Access-Control-Allow-Methods=POST, GET, PUT, OPTIONS, DELETE"
      - "traefik.http.middlewares.basket_team.headers.customresponseheaders.Access-Control-Allow-Origin=*"
      - "traefik.http.middlewares.basket_team.headers.customresponseheaders.Access-Control-Allow-Headers=x-requested-with, Content-Type,Authorization"
    ports:
      - "8081"
    networks:
      - webserver

networks:
  webserver:
    driver: bridge
    external: true


